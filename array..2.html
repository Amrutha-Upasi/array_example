<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="dist/css/bootstrap.css">
	<script>
		
	</script>
</head>
<body class="bg-info" onload="showitem()">
	<div class="container">
		<div class="row">
			<div class="col-sm-8">
				<h4>Javascript multidimensional array example</h4>			
			</div> <!-- 8 --->

			<div class="col-sm-4"><h4 id="total">Total item--0</h4></div>
		</div>

		<div class="row">
			<div class = "col-sm-3" style="padding:10px;">
				<div class="panel panel-primary">
					<div class="panel-heading">New Item</div>
					<div class="panel-body">

						<div class="form-group">
							<label>Item Name</label>
							<input type ="text" class="form-control input-sm" id="name">
						</div>


						<div class="form-group">
							<label>Item Price</label>
							<input type ="number" class="form-control input-sm" id="price">
						</div>


						<div class="form-group">
							<label>Item quantity</label>
							<input type ="number" class="form-control input-sm" id="qty">
						</div>


						<div class="text-center form-group">
							<button class="btn btn-success btn-sm btn-block" onclick="save()">Save item and display</button>
						</div>

						<div class="text-center form-group">
							<button class="btn btn-danger btn-sm btn-block" onclick="showitem()">Show item</button>
						</div>

					</div> <!--panel body end -->
				</div> <!-- panel end-->
				
			</div> <!--3 end-->

			<div class="col-sm-9 well">
				<table class ="table table-bordered table-hover">
					<thead class="text-danger">
						<tr>
							<th>Item Name</th>
							<th>Item Price</th>
							<th>Item Quantity</th>
							<th>Total Price</th>
							<th>Action</th>
						</tr>
					</thead>

					<tbody id ="itemlist">
						<tr>
							<td colspan ="5" class="text-center">No record!</td>
						</tr>
					</tbody>
				</table>
				
			</div> <!--9 end-->
		</div>
		
	</div> <!- -Container--end-->

	<script>
		var item =[
		            { "name": "Apple","price":200,"qty":5}, // 0
		            { "name": "Banana","price":30,"qty":10},// 1
		            { "name": "orange","price":80,"qty":3},// 2
		            { "name": "Mango","price":100,"qty":5} // 3

		          ];

		          function showitem()
		          {
		          	var data = " ";
		          	for(i=0; i<item.length; i++)
		          	{
		          		data+=  "<tr>";
		          		data+=  "<td>" +item[i].name + "</td>";
		          		data+=  "<td>" +item[i].price + "</td>";
		          		data+=  "<td>" +item[i].qty + "</td>";
		          		data+=  "<td>" +(item[i].qty * item[i].price) + "</td>";
		          		data+= "<td> <button class= 'btn btn-danger btn-sm' onclick = 'delitem("+i+")'>Delete</button> </td>";
		          		data+=  "</tr>" ;

		          		//data+="</tr>";
		          	}
		          	document.getElementById("itemlist").innerHTML = data;
		          	document.getElementById("total").innerHTML ="Total item -:"+item.length;
		          }

		          function save()
		          {
		          	var n = document.getElementById("name").value;
		          	var p = document.getElementById("price").value;
		          	var q = document.getElementById("qty").value;

		          	

		          	var newarray = { "name":n, "price":p, "qty":q};
		          	item = item.concat(newarray);
		          	showitem(); // to reload the itemlist
		          }

		          function delitem(index)
		          {
		          	var status = confirm("Are you sure you want to delete the item!");
		          	if(status==true)
		          	{
		          	item.splice(index,1)
		          	showitem();
		          }
		          }
	</script>

</body>
</html>